{"version":3,"sources":["webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?1b3e","webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?3ebe","webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?07ee","webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?4ab2","uni-app:///components/page-previewImage/page-previewImage.vue","webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?2b34","webpack:///D:/project/school/components/page-previewImage/page-previewImage.vue?cc74"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0I;AAC1I;AACqE;AACL;AACsC;;;AAGtG;AACiL;AACjL,gBAAgB,2LAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,wGAAM;AACR,EAAE,iHAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4GAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAorB,CAAgB,isBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2BxsB;AACA,0BADA;AAEA;AACA;AACA;AACA,iBAFA;AAGA,oBAHA;AAIA;AACA;AACA,OANA,EADA;;AASA;AACA;AACA,mBADA;AAEA,oBAFA,EAVA,EAFA;;;AAiBA,MAjBA,kBAiBA;AACA;AACA,kBADA;AAEA,sBAFA;AAGA,mBAHA,EAGA;AACA,iBAJA,EAIA;AACA,gBALA,EAKA;AACA,cANA,EAMA;AACA,aAPA,EAOA;AACA,oBARA,EAQA;AACA,cATA,EASA;AACA;AACA,gBADA,EAVA;;AAaA;AACA,kBAdA;AAeA;AACA;AACA,mBADA;AAEA,mBAFA,EAhBA;;AAoBA,mBApBA,EAoBA;AACA,iBArBA,EAqBA;AACA,8BAtBA;AAuBA,yBAvBA;AAwBA,8BAxBA,EAwBA;AACA,wBAzBA;AA0BA,gBA1BA,CA0BA;AA1BA;AA4BA,GA9CA;AA+CA;AACA;AACA,aADA,mBACA,MADA,EACA,MADA,EACA;AACA;AACA,2BADA,CACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA;AAWA,gBAXA,EADA,EA/CA;;;AA8DA;AACA,aADA,uBACA;AACA;AACA,KAHA;AAIA;AACA,WALA,mBAKA,CALA,EAKA;;AAEA;AACA;AACA,KATA;AAUA;AACA,UAXA,oBAWA;AACA;AACA,KAbA;;AAeA;AACA;AACA,oBAjBA,4BAiBA,CAjBA,EAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,aAFA;AAGA;AACA,KAnCA;AAoCA;AACA,kBArCA,0BAqCA,KArCA,EAqCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,OARA,MAQA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OAdA,MAcA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KArHA;AAsHA;AACA,mBAvHA,6BAuHA;AACA;AACA;AACA,KA1HA;AA2HA;AACA,eA5HA,uBA4HA,CA5HA,EA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApIA;AAqIA;;AAEA;AACA,gBAxIA,wBAwIA,CAxIA,EAwIA;AACA;AACA;AACA;AACA;AACA,oCALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,KAzJA;;AA2JA;AACA,iBA5JA,yBA4JA,CA5JA,EA4JA;AACA;AACA;AACA,0BADA,CACA;AACA,OAFA,MAEA;AACA,yBADA,CACA;AACA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KA3KA;AA4KA;AACA,QA7KA,gBA6KA,CA7KA,EA6KA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzMA;AA0MA;AACA,eA3MA,uBA2MA,CA3MA,EA2MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;;AAEA,+CAXA,CAWA;AACA,OAZA,MAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA,GAHA;AAIA;AACA,KA1OA,EA9DA,E;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAywC,CAAgB,2tCAAG,EAAC,C;;;;;;;;;;;ACA7xC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/page-previewImage/page-previewImage.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./page-previewImage.vue?vue&type=template&id=33735630&scoped=true&\"\nvar renderjs\nimport script from \"./page-previewImage.vue?vue&type=script&lang=js&\"\nexport * from \"./page-previewImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./page-previewImage.vue?vue&type=style&index=0&id=33735630&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33735630\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/page-previewImage/page-previewImage.vue\"\nexport default component.exports","export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./page-previewImage.vue?vue&type=template&id=33735630&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./page-previewImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./page-previewImage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"previewImage\" v-if=\"show\" @click=\"doubleClick\" @touchmove.stop.prevent>\r\n\t\t<swiper :circular='true' class=\"swiper\" :vertical=\"vertical\" :current=\"current\" @change=\"swiperChange\"\r\n\t\t\t:disable-touch=\"swiper\">\r\n\t\t\t<swiper-item @touchmove.stop=\"isMove\" v-for=\"(item, i) in list\" :key=\"i\" :id=\"i\">\r\n\t\t\t\t<!-- <image mode=\"widthFix\" class=\"bgImg0\" :src=\"item\" /> -->\r\n\t\t\t\t<movable-area class=\"marea\" scale-area>\r\n\t\t\t\t\t<movable-view :id=\"'movable-view-'+i\" :key=\"'movable-view-'+i\" class=\"mview\" direction=\"all\"\r\n\t\t\t\t\t\t:out-of-bounds=\"true\" :inertia=\"true\" :scale=\"true\" scale-min=\"0.7\"\r\n\t\t\t\t\t\tscale-max=\"4\" :scale-value=\"scale\" @scale=\"onScale\" @change=\"movableChange\"\r\n\t\t\t\t\t\t@touchmove=\"handletouchmove\" @touchstart=\"handletouchstart\" @touchend=\"handletouchend\">\r\n\t\t\t\t\t\t<image mode=\"widthFix\" :id=\"'image-'+i\" :key=\"'movable-view'+i\" class=\"image\" :src=\"item\"\r\n\t\t\t\t\t\t\t:data-index=\"i\" :data-src=\"item\" />\r\n\t\t\t\t\t</movable-view>\r\n\t\t\t\t</movable-area>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t\t<view class=\"page\" v-if=\"list.length > 0\">\r\n\t\t\t<text class=\"text\">{{ index + 1 }} / {{ list.length }}</text>\r\n\t\t</view>\r\n\t\t<!-- <view @touchmove=\"handletouchmove\" @touchstart=\"handletouchstart\" @touchend=\"handletouchend\" class=\"desc\" v-if=\"list.length > 0\">\r\n\t\t\t\t{{ list[index].pictureDescription }}\r\n\t\t\t</view> -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'pagePreviewImage',\r\n\t\tprops: {\r\n\t\t\tlist: {\r\n\t\t\t\t//图片列表\r\n\t\t\t\ttype: Array,\r\n\t\t\t\trequired: true,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 是否竖屏\r\n\t\t\tvertical: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttimeStamp:0,\r\n\t\t\t\tisOnScale:false,\r\n\t\t\t\tswiper: false, //是否禁用\r\n\t\t\t\tshow: false, //显示状态\r\n\t\t\t\tcurrent: 0, //当前页\r\n\t\t\t\tindex: 0, //当前页\r\n\t\t\t\ttime: 0, //定时器\r\n\t\t\t\tinterval: 1000, //长按事件\r\n\t\t\t\tscale: 1, //缩放比例\r\n\t\t\t\told: {\r\n\t\t\t\t\tscale: 1\r\n\t\t\t\t},\r\n\t\t\t\t// 刚触碰的时间\r\n\t\t\t\tstartTime: 0,\r\n\t\t\t\t// 记录手指点击的位置）\r\n\t\t\t\tstartData: {\r\n\t\t\t\t\tclientX: '',\r\n\t\t\t\t\tclientY: ''\r\n\t\t\t\t},\r\n\t\t\t\tisZoom: false, // 是否缩放过\r\n\t\t\t\tlock: false, // 允许滑动\r\n\t\t\t\tisTouchOutOfBounds: null,\r\n\t\t\t\tisOutOfBounds: null,\r\n\t\t\t\tlastTapTimeoutFunc: null, // 记录双击事件\r\n\t\t\t\tlastTapDiffTime: 0,\r\n\t\t\t\tisScale: 1 // 真实的比例变化\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tisScale: {\r\n\t\t\t\thandler(newVal, objVal) {\r\n\t\t\t\t\tif (newVal > 1.000001) {\r\n\t\t\t\t\t\tthis.lock = true // 当图片缩放值大于1时，不允许滑动\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.lock = false\r\n\t\t\t\t\t\tif (objVal > 1) {\r\n\t\t\t\t\t\t\tthis.isZoom = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcloseIImg() {\r\n\t\t\t\tthis.$emit('closeIImg1', false)\r\n\t\t\t},\r\n\t\t\t//比例变化\r\n\t\t\tonScale(e) {\r\n\t\t\t\t\r\n\t\t\t\tthis.isScale = e.target.scale\r\n\t\t\t\tthis.old.scale = e.target.scale\r\n\t\t\t},\r\n\t\t\t// 禁止swiper自带的滚动事件\r\n\t\t\tisMove() {\r\n\t\t\t\treturn\r\n\t\t\t},\r\n\r\n\t\t\t//长按事件相关内容---------开始-------------------\r\n\t\t\t//接触开始\r\n\t\t\thandletouchstart(e) {\r\n\t\t\t\tif (this.isZoom) {\r\n\t\t\t\t\tthis.isZoom = false\r\n\t\t\t\t}\r\n\t\t\t\t// 获取初始时间\r\n\t\t\t\tthis.startTime = Date.now()\r\n\t\t\t\t// 获取初始的位置\r\n\t\t\t\tthis.startData.clientX = e.changedTouches[0].clientX;\r\n\t\t\t\tthis.startData.clientY = e.changedTouches[0].clientY;\r\n\r\n\t\t\t\tvar tchs = e.touches.length;\r\n\t\t\t\tif (tchs != 1) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.time = setTimeout(() => {\r\n\t\t\t\t\tthis.onLongPress(e);\r\n\t\t\t\t}, this.interval);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t//清除定时器\r\n\t\t\thandletouchend(event) {\r\n\t\t\t\tthis.isOnScale = true;\r\n\t\t\t\t// 如果图片缩放过，直接跳出（图片缩放后轮播图片会导致此方法执行两次，具体原因不明[可能我笨没发现😂]）\r\n\t\t\t\t// 这边用isZoom拦截一下\r\n\t\t\t\tif (this.isZoom) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst endTime = Date.now()\r\n\t\t\t\tif (endTime - this.startTime > 2000) {\r\n\t\t\t\t\t// 如果手指滑动的距离超过2s 就默认不合法\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet elePosition = '暂无位置'\r\n\t\t\t\t// 记录手指滑动的方向\r\n\t\t\t\tconst subX = event.changedTouches[0].clientX - this.startData.clientX;\r\n\t\t\t\tconst subY = event.changedTouches[0].clientY - this.startData.clientY;\r\n\t\t\t\tif(Math.abs(subX)<20 || Math.abs(subY)<20){\r\n\t\t\t\t\tthis.isOnScale = false;\r\n\t\t\t\t}\r\n\t\t\t\tif (subY > 50 || subY < -50) {\r\n\t\t\t\t\tif (subY > 50) {\r\n\t\t\t\t\t\tconsole.log('下滑')\r\n\t\t\t\t\t\telePosition = '下滑'\r\n\t\t\t\t\t} else if (subY < -50) {\r\n\t\t\t\t\t\tconsole.log('上滑')\r\n\t\t\t\t\t\telePosition = '上滑'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (subX > 100 / this.isScale) {\r\n\t\t\t\t\t\tconsole.log('右滑')\r\n\t\t\t\t\t\telePosition = '右滑'\r\n\t\t\t\t\t} else if (subX < -100 / this.isScale) {\r\n\t\t\t\t\t\tconsole.log('左滑')\r\n\t\t\t\t\t\telePosition = '左滑'\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('无效')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isTouchOutOfBounds && this.isOutOfBounds) {\r\n\t\t\t\t\tthis.lock = false\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.vertical) { // 竖屏\r\n\t\t\t\t\tif (elePosition == '下滑' && !this.lock) {\r\n\t\t\t\t\t\tif (this.current == 0) {\r\n\t\t\t\t\t\t\tthis.current = this.list.length - 1\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.current--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (elePosition == '上滑' && !this.lock) {\r\n\t\t\t\t\t\tif (this.current == this.list.length - 1) {\r\n\t\t\t\t\t\t\tthis.current = 0\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.current++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else { // 横屏\r\n\t\t\t\t\tif (elePosition == '右滑' && !this.lock) {\r\n\t\t\t\t\t\tif (this.current == 0) {\r\n\t\t\t\t\t\t\tthis.current = this.list.length - 1\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.current--\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (elePosition == '左滑' && !this.lock) {\r\n\t\t\t\t\t\tif (this.current == this.list.length - 1) {\r\n\t\t\t\t\t\t\tthis.current = 0\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.current++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tclearTimeout(this.time);\r\n\t\t\t\tif (this.time != 0) {\r\n\t\t\t\t\t//处理点击时间\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t//清除定时器\r\n\t\t\thandletouchmove() {\r\n\t\t\t\tclearTimeout(this.time);\r\n\t\t\t\tthis.time = 0;\r\n\t\t\t},\r\n\t\t\t// 处理长按事件\r\n\t\t\tonLongPress(e) {\r\n\t\t\t\t// var src = e.currentTarget.dataset.src;\r\n\t\t\t\t// var index = e.currentTarget.dataset.index;\r\n\t\t\t\t// var data = {\r\n\t\t\t\t// \tsrc: src,\r\n\t\t\t\t// \tindex: index\r\n\t\t\t\t// };\r\n\t\t\t\t// this.$emit('longPress', data);\r\n\t\t\t},\r\n\t\t\t//长按事件相关内容---------结束-------------------\r\n\r\n\t\t\t//图片改变\r\n\t\t\tswiperChange(e) {\r\n\t\t\t\tconsole.log('图片改变事件', e);\r\n\t\t\t\t// 图片切换后，把相关参数还原\r\n\t\t\t\tthis.isZoom = false\r\n\t\t\t\tthis.lock = false\r\n\t\t\t\tthis.index = e.target.current; //更新当前图片index\r\n\t\t\t\tthis.isScale = 1\r\n\t\t\t\t// this.scale = 1; //缩放比例\r\n\t\t\t\t// 这样写是因为组件属性设置不生效\r\n\t\t\t\t// 具体参考 https://uniapp.dcloud.io/vue-api?id=componentsolutions\r\n\t\t\t\tthis.scale = this.old.scale\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.scale = 1\r\n\t\t\t\t});\r\n\t\t\t\tthis.isTouchOutOfBounds = null\r\n\t\t\t\tthis.isOutOfBounds = null\r\n\t\t\t\tthis.$emit('uploadIndex', this.index)\r\n\t\t\t},\r\n\r\n\t\t\t//移动变化\r\n\t\t\tmovableChange(e) {\r\n\t\t\t\tconsole.log(this.isOnScale)\r\n\t\t\t\tif (this.isScale == 1) {\r\n\t\t\t\t\tthis.lock = false // 允许滑动\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.lock = true // 不允许滑动\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isScale != 1) {\r\n\t\t\t\t\tif (!this.isTouchOutOfBounds && e.detail.source == 'touch-out-of-bounds') {\r\n\t\t\t\t\t\tthis.isTouchOutOfBounds = 'touch-out-of-bounds'\r\n\t\t\t\t\t} else if (!this.isOutOfBounds && e.detail.source == 'out-of-bounds') {\r\n\t\t\t\t\t\tthis.isOutOfBounds = 'out-of-bounds'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//打开\r\n\t\t\topen(e) {\r\n\t\t\t\tconsole.log(!isNaN(e), this.list.length, e)\r\n\t\t\t\tif (e === null || e === '') {\r\n\t\t\t\t\tconsole.log('previewImage:打开参数无效');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!isNaN(e)) {\r\n\t\t\t\t\tif (e >= this.list.length) {\r\n\t\t\t\t\t\tconsole.log('previewImage:打开参数无效');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.index = e;\r\n\t\t\t\t\t\tthis.current = e;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar index = this.list.indexOf(e);\r\n\t\t\t\t\tif (index === -1) {\r\n\t\t\t\t\t\tthis.list = [e];\r\n\t\t\t\t\t\tthis.index = 0;\r\n\t\t\t\t\t\tconsole.log('previewImage:未在图片地址数组中找到传入的图片，已为你自动打开单张预览模式')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.index = this.list.indexOf(e);\r\n\t\t\t\t\t\tthis.current = this.list.indexOf(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('previewImage:当前预览图片序号' + this.index);\r\n\t\t\t\tthis.lock = false\r\n\t\t\t\tthis.show = true;\r\n\t\t\t},\r\n\t\t\t// 自定义双击事件\r\n\t\t\tdoubleClick(e) {\r\n\t\t\t\tconsole.log(e.changedTouches.length)\r\n\t\t\t\tthis.lock = true\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet curTime = new Date().getTime();\r\n\t\t\t\tlet lastTime = _this.lastTapDiffTime;\r\n\t\t\t\t_this.lastTapDiffTime = curTime;\r\n\t\t\t\t//两次点击间隔小于300ms, 认为是双击\r\n\t\t\t\tlet diff = curTime - lastTime;\r\n\t\t\t\tif (diff < 300) {\r\n\t\t\t\t\tconsole.log(\"双击\", this.isScale)\r\n\t\t\t\t\t// 如果图片当前没有放大则双击放大两倍\r\n\t\t\t\t\tif (this.isScale == 1) {\r\n\t\t\t\t\t\tthis.isScale = 2\r\n\t\t\t\t\t\tthis.scale = 2\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 否则双击还原\r\n\t\t\t\t\t\tthis.swiperChange(e)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tclearTimeout(_this.lastTapTimeoutFunc); // 成功触发双击事件时，取消单击事件的执行\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 单击事件延时300毫秒执行\r\n\t\t\t\t\tif(this.isOnScale){\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.lastTapTimeoutFunc = setTimeout(() => {\r\n\t\t\t\t\t\tconsole.log(\"单击\")\r\n\t\t\t\t\t\tthis.closeIImg()\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.previewImage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t\t.swiper {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.bgImg0 {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\ttop: 40%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\t// filter: blur(10rpx)\r\n\t\t\t}\r\n\r\n\t\t\t.marea {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tz-index: 3;\r\n\r\n\t\t\t\t.mview {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: auto;\r\n\t\t\t\t\tmin-height: 100%;\r\n\r\n\t\t\t\t\t.image {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.page {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\tbottom: 60rpx;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\t.text {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\t\t\tpadding: 3rpx 16rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tuser-select: none;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.desc {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 40rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 165rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 5rpx 30rpx;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t-webkit-line-clamp: 5;\r\n\t\t\toverflow: hidden;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tletter-spacing: 3rpx;\r\n\t\t\tuser-select: none;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./page-previewImage.vue?vue&type=style&index=0&id=33735630&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./page-previewImage.vue?vue&type=style&index=0&id=33735630&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640229701211\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}